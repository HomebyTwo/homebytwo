{% load humanize geojson_tags duration %}
<ul class="list">

  {# start place #}
  <h4 class="mrgh-">Start Place</h4>
  <li class="box box--default box--tight mrgv- mrgh0 pdg- place place--start"
      data-geom='{{ route.start_place|geojsonfeature:"name"|default:route.get_start_point|geojsonfeature }}'>

    <div class="grid grid--tight">
      <div class="grid__item place__name">{{ route.start_place.name|default:'Start Place' }}, {{ route.get_start_altitude.m|floatformat:0|intcomma }}m</div>
    </div>

    <div class="text-small text-right">{{ route.start_place.get_place_type_display|default:'Unknown place' }} - 0.00km</div>

  </li>

  {# checkpoints #}
  <h4 class="mrgh-">Checkpoints</h4>
  {% for place in places %}
    <li class="box box--default box--tight mrgv- pdg- place place--checkpoint"
        data-geom='{{ place.place|geojsonfeature:"name" }}'>
      <div class="grid grid--tight">
        <div class="w-2/3 sm-w-4/5 grid__item place__name">{{ place.place.name }}, {{ place.altitude.m|floatformat:0|intcomma }}m </div>
        <div class="w-1/3 sm-w-1/5 grid__item text-right">{{ place.schedule|duration:'hike' }}</div>
      </div>
      <div class="text-small text-right">{{ place.place.get_place_type_display }} - {{ place.distance.km|floatformat:2|intcomma }}km</div>

    </li>

  {% empty %}
    <li class="box box--default box--tight mrgv- pdg- ">No checkpoint along the route.</li>

  {% endfor %}

{# finsish place #}
  <h4 class="mrgh-">End Place</h4>
  <li class="box box--default box--tight mrgv- pdg- place place--finish"
        data-geom='{{ route.end_place|geojsonfeature:"name" }}'>
    <div class="grid grid--tight">
        <div class="w-2/3 sm-w-4/5 grid__item place__name">{{ route.end_place.name|default:'End Place' }}, {{ route.get_end_altitude.m|floatformat:0|intcomma }}m</div>
        <div class="w-1/3 sm-w-1/5 grid__item text-right">{{ route.end_place.schedule|duration:'hike' }}</div>
    </div>
    <div class="text-small text-right mrgb0">{{ route.end_place.get_place_type_display|default:'Unknown place' }} - {{ route.get_length.km|floatformat:1|intcomma }}km</div>

  </li>

</ul>
